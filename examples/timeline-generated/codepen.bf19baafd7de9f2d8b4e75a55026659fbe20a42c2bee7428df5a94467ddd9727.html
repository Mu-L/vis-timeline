<html>
  <head>
    <meta charset="utf-8" />
    <title>Timeline | other | Custom function label format example</title>
  </head>
  <body>
    <form
      id="form"
      action="https://codepen.io/pen/define"
      method="post"
      target="_self"
    >
      <input
        type="hidden"
        name="data"
        value='{"css":"body,\nhtml {\n  font-family: arial, sans-serif;\n  font-size: 11pt;\n}\n\n#visualization {\n  box-sizing: border-box;\n  width: 100%;\n  height: 300px;\n}\n","css_external":"","html":"<p>This example demonstrate using custom function label formats.</p>\n<div id=\"visualization\"></div>\n","js":"var now = moment().minutes(0).seconds(0).milliseconds(0);\nvar groupCount = 3;\nvar itemCount = 20;\n\n// create a data set with groups\nvar names = [\"John\", \"Alston\", \"Lee\", \"Grant\"];\nvar groups = new vis.DataSet();\nfor (var g = 0; g < groupCount; g++) {\n  groups.add({ id: g, content: names[g] });\n}\n\n// create a dataset with items\nvar items = new vis.DataSet();\nfor (var i = 0; i < itemCount; i++) {\n  var start = now.clone().add(Math.random() * 200, \"hours\");\n  var group = Math.floor(Math.random() * groupCount);\n  items.add({\n    id: i,\n    group: group,\n    content:\n      \"item \" +\n      i +\n      &apos; <span style=\"color:#97B0F8;\">(&apos; +\n      names[group] +\n      \")</span>\",\n    start: start,\n    type: \"box\",\n  });\n}\n\n// create visualization\nvar container = document.getElementById(\"visualization\");\nvar options = {\n  format: {\n    minorLabels: function (date, scale, step) {\n      var now = new Date();\n      var ago = now - date;\n      var divider;\n      switch (scale) {\n        case \"millisecond\":\n          divider = 1;\n          break;\n        case \"second\":\n          divider = 1000;\n          break;\n        case \"minute\":\n          divider = 1000 * 60;\n          break;\n        case \"hour\":\n          divider = 1000 * 60 * 60;\n          break;\n        case \"day\":\n          divider = 1000 * 60 * 60 * 24;\n          break;\n        case \"weekday\":\n          divider = 1000 * 60 * 60 * 24 * 7;\n          break;\n        case \"month\":\n          divider = 1000 * 60 * 60 * 24 * 30;\n          break;\n        case \"year\":\n          divider = 1000 * 60 * 60 * 24 * 365;\n          break;\n        default:\n          return new Date(date);\n      }\n      return Math.round((ago * step) / divider) + \" \" + scale + \"s ago\";\n    },\n    majorLabels: function (date, scale, step) {\n      var now = new Date();\n      var ago = now - date;\n      var divider;\n      switch (scale) {\n        case \"millisecond\":\n          divider = 1;\n          break;\n        case \"second\":\n          divider = 1000;\n          break;\n        case \"minute\":\n          divider = 1000 * 60;\n          break;\n        case \"hour\":\n          divider = 1000 * 60 * 60;\n          break;\n        case \"day\":\n          divider = 1000 * 60 * 60 * 24;\n          break;\n        case \"weekday\":\n          divider = 1000 * 60 * 60 * 24 * 7;\n          break;\n        case \"month\":\n          divider = 1000 * 60 * 60 * 24 * 30;\n          break;\n        case \"year\":\n          divider = 1000 * 60 * 60 * 24 * 365;\n          break;\n        default:\n          return new Date(date);\n      }\n      return Math.round((ago * step) / divider) + \" \" + scale + \"s ago\";\n    },\n  },\n};\n\nvar timeline = new vis.Timeline(container);\ntimeline.setOptions(options);\ntimeline.setGroups(groups);\ntimeline.setItems(items);\n","js_external":"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js;https://visjs.github.io/vis-timeline/standalone/umd/vis-timeline-graph2d.min.js","title":"Timeline | other | Custom function label format example"}'
      />
      <button id="open" alt="JSFiddle" title="JSFiddle">Open CodePen</button>
    </form>

    <script type="text/javascript">
      document.getElementById("open").click();
    </script>
  </body>
</html>
