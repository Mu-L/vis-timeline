<html>
  <head>
    <meta charset="utf-8" />
    <title>Timeline | styling | Show day scale with calendar week</title>
  </head>
  <body>
    <form
      id="form"
      action="https://codepen.io/pen/define"
      method="post"
      target="_self"
    >
      <input
        type="hidden"
        name="data"
        value='{"css":"body,\nhtml {\n  font-family: sans-serif;\n}\n\n/* alternating column backgrounds */\n.vis-time-axis .vis-grid.vis-odd {\n  background: #f5f5f5;\n}\n","css_external":"","html":"<p>\n  To set a locale for the timeline, specify the option\n  <code>{locale: STRING}</code>.\n</p>\n<p>\n  To set up a day scale and also shows the corresponding calendar weeks,\n  configure use a time axis with day scale and enable showWeekScale. Then\n  configure the format to output the date/day and the week info accordingly:\n</p>\n<pre><code>\n  {\n    timeAxis: {\n      scale: &apos;day&apos;,\n      step: 1\n    },\n    showWeekScale: true,\n    format: {\n      minorLabels: {day: &apos;DD.MM&apos;},\n      majorLabels: {day: &apos;w&apos;}\n    }\n  }\n</code>\n</pre>\n\n<p>\n  The following timeline is initialized with the &apos;de&apos; locale and items are added\n  with locally localized moment.js objects. The timeline locale can be switched\n  to another locale at runtime. If you choose the &apos;en&apos; locale, the week numbers\n  will be calculated according to the US week calendar numbering scheme.\n</p>\n\n<p>\n  <label for=\"locale\">Select a locale:</label>\n  <select id=\"locale\">\n    <option value=\"en\">en</option>\n    <option value=\"fr\">fr</option>\n    <option value=\"it\">it</option>\n    <option value=\"nl\">nl</option>\n    <option value=\"de\" selected=\"\">de</option>\n  </select>\n</p>\n\n<div id=\"visualization\"></div>\n","js":"var itemCount = 26;\n\n// DOM element where the Timeline will be attached\nvar container = document.getElementById(\"visualization\");\n\n// just a group for the effects\nvar groups = new vis.DataSet();\ngroups.add([\n  { id: 1, content: \"ISO Weeks\" },\n  { id: 2, content: \"US Weeks\" },\n]);\n\n// Create a DataSet (allows two way data-binding)\nvar items = new vis.DataSet();\n\n// create a localized moment object based on the current date\nvar USdate = moment()\n  .locale(\"en\")\n  .hours(0)\n  .minutes(0)\n  .seconds(0)\n  .milliseconds(0);\n\n// use the locale-aware weekday function to move to the begin of the current week\nUSdate.weekday(0);\n\n// Iterate and just add a week to use it again in the next iteration\nfor (var i = 0; i < itemCount; i++) {\n  var USweekNumber = USdate.format(\"w\");\n  var USweekStart = USdate.format();\n  var USweekEnd = USdate.add(1, \"week\").format();\n  items.add({\n    id: i,\n    group: 2,\n    content: \"US week \" + USweekNumber,\n    start: USweekStart,\n    end: USweekEnd,\n  });\n}\n\n// create another localized moment object - the &apos;de&apos; locale works according to the ISO8601 leap week calendar system\nvar DEdate = moment()\n  .locale(\"de\")\n  .hours(0)\n  .minutes(0)\n  .seconds(0)\n  .milliseconds(0);\nDEdate.weekday(0);\nfor (var j = 0; j < itemCount; j++) {\n  var DEweekNumber = DEdate.format(\"w\");\n  var DEweekStart = DEdate.format();\n  var DEweekEnd = DEdate.add(1, \"week\").format();\n  items.add({\n    id: itemCount + j,\n    group: 1,\n    content: \"ISO week \" + DEweekNumber,\n    start: DEweekStart,\n    end: DEweekEnd,\n  });\n}\n\n// Configuration for the Timeline\nvar options = {\n  locale: \"de\",\n  timeAxis: {\n    scale: \"day\",\n    step: 1,\n  },\n  showWeekScale: true,\n  format: {\n    minorLabels: { day: \"DD.MM\" },\n    majorLabels: { day: \"w\" },\n  },\n};\n\n// Create a Timeline\nvar timeline = new vis.Timeline(container, items, groups, options);\n\n// update the locale when changing the select box value\nvar select = document.getElementById(\"locale\");\nselect.onchange = function () {\n  timeline.setOptions({\n    locale: this.value,\n  });\n};\nselect.onchange();\n","js_external":"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment-with-locales.min.js;https://visjs.github.io/vis-timeline/standalone/umd/vis-timeline-graph2d.min.js","title":"Timeline | styling | Show day scale with calendar week"}'
      />
      <button id="open" alt="JSFiddle" title="JSFiddle">Open CodePen</button>
    </form>

    <script type="text/javascript">
      document.getElementById("open").click();
    </script>
  </body>
</html>
